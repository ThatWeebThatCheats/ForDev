#include "skins.hpp"

static auto erase_override_if_exists_by_index(const int definition_index) -> void
{
	if (k_weapon_info.count(definition_index))
	{
		auto& icon_override_map = Vars.skins.m_icon_overrides;
		const auto& original_item = k_weapon_info.at(definition_index);
		if (original_item.icon && icon_override_map.count(original_item.icon))
			icon_override_map.erase(icon_override_map.at(original_item.icon)); // Remove the leftover override
	}
}

#include <stdio.h>
#include <string>
#include <iostream>

using namespace std;

class mkyzsdm {
public:
	int ppytmcjiof;
	string rapgwjo;
	string ykaloljo;
	string qhbqkddra;
	mkyzsdm();
	bool egqcapsxmvf(double umzrwxzlpugkx, double ctocxqzjv);
	bool ghxeamysawvdceht(double fkplsqpqljtvjlg, int qsoer, string wdjevjd, double vlbhphvlog, double zkwvbkz, double snhldhtacxkyzl, int mtnrnlhajkzpdm, double drmqw, bool kkxmriiwxxqg);

protected:
	string wrxjahglli;
	bool qewtuzjxj;
	int nnxeypdtydckx;
	double rhqbexwow;

	bool iykibldthcwowzz(string kbwjohvfcnrd, string jpkhyoyjpgt);
	void amuqmaznqidvx(bool dhect, bool dwfeujqvznlbcl);
	double tnnbqclskvcwe(double opvoa, bool uvcnfgbpx, int ncftiaxnx, double xsxpiw, bool tabktdzr);

private:
	bool cqqvmy;
	double hxsyuzhtcqlsd;
	int hzblu;

	double zgtcqsspuxorf(int kwjcthwym);
	string skmequwbeemsbz(double kqiuarhaaqbexyo, int tltlpjxkw, double qebdhdbckmndbao);
	void hdcbisiwacb(bool qzcgcvvm, string hrygcoovap, string vuwacqkxuu, double cjsbywujeeud, string kvxlt);
	double qukhadokuhsyuaoks(double iavkhfuhsuyh, string wkolqfhachghax);
	int uykxrpxmutkbkltharuj(string yosqkfcylzfuqyk, string enimokjrvuuex, double ghqwpbfn, bool cbqyleyw, double hhyfot, int eqvxxiiiudulzo, int tdsiwonxy, int bgmnblhcrkqb, double ixelizbjuyxqz, double rykrqrri);

};



double mkyzsdm::zgtcqsspuxorf(int kwjcthwym) {
	double knjfcfxyqcxuier = 2339;
	string evukknqg = "rhtuynodmdzmtvboplpshtfzsdts";
	double clfwdbvtbx = 23996;
	string dkqniw = "yeyldbyndmd";
	bool ljvpdglh = true;
	bool tdqrtovkhikz = false;
	int fcmppboyqsttvmx = 452;
	bool fseqegtjmdhgp = false;
	string iyzyzt = "aqcpueisaqcaqsvgqfksnbhnamvzywref";
	int izalidnynuf = 667;
	if (true == true) {
		int ixvekcglkt;
		for (ixvekcglkt = 25; ixvekcglkt > 0; ixvekcglkt--) {
			continue;
		}
	}
	if (2339 == 2339) {
		int gf;
		for (gf = 35; gf > 0; gf--) {
			continue;
		}
	}
	if (23996 != 23996) {
		int cj;
		for (cj = 90; cj > 0; cj--) {
			continue;
		}
	}
	return 28638;
}

string mkyzsdm::skmequwbeemsbz(double kqiuarhaaqbexyo, int tltlpjxkw, double qebdhdbckmndbao) {
	string tisbzqhzxtw = "qqsxavzyzbxblhkuneomwemvyngyidzantoeypccvhcfp";
	bool progapgone = false;
	int euanqnhfpiyy = 899;
	double xafvbti = 59448;
	bool nydrdbzbqxanoj = false;
	double yxlvvqozfm = 20776;
	int hryklhriuezat = 2309;
	bool iatwvi = true;
	if (899 == 899) {
		int ihc;
		for (ihc = 32; ihc > 0; ihc--) {
			continue;
		}
	}
	if (899 == 899) {
		int rtscfmvejt;
		for (rtscfmvejt = 97; rtscfmvejt > 0; rtscfmvejt--) {
			continue;
		}
	}
	if (false != false) {
		int ozftkq;
		for (ozftkq = 81; ozftkq > 0; ozftkq--) {
			continue;
		}
	}
	if (899 == 899) {
		int bqpsicv;
		for (bqpsicv = 70; bqpsicv > 0; bqpsicv--) {
			continue;
		}
	}
	return string("xlzlclomop");
}

void mkyzsdm::hdcbisiwacb(bool qzcgcvvm, string hrygcoovap, string vuwacqkxuu, double cjsbywujeeud, string kvxlt) {

}

double mkyzsdm::qukhadokuhsyuaoks(double iavkhfuhsuyh, string wkolqfhachghax) {
	double qvynj = 14604;
	bool mgdgu = true;
	string nbfmtdsxaxott = "gfidbesnbdqgspangzfgb";
	int pwevcg = 6904;
	bool tvnblfci = true;
	int dlruid = 1176;
	bool uvmvjswapn = false;
	int vhgpfldny = 4561;
	if (1176 != 1176) {
		int eoa;
		for (eoa = 57; eoa > 0; eoa--) {
			continue;
		}
	}
	if (4561 == 4561) {
		int zyhpcxgk;
		for (zyhpcxgk = 12; zyhpcxgk > 0; zyhpcxgk--) {
			continue;
		}
	}
	if (string("gfidbesnbdqgspangzfgb") != string("gfidbesnbdqgspangzfgb")) {
		int mgdqjjuwx;
		for (mgdqjjuwx = 45; mgdqjjuwx > 0; mgdqjjuwx--) {
			continue;
		}
	}
	if (6904 != 6904) {
		int hs;
		for (hs = 85; hs > 0; hs--) {
			continue;
		}
	}
	if (true != true) {
		int orqp;
		for (orqp = 78; orqp > 0; orqp--) {
			continue;
		}
	}
	return 72598;
}

int mkyzsdm::uykxrpxmutkbkltharuj(string yosqkfcylzfuqyk, string enimokjrvuuex, double ghqwpbfn, bool cbqyleyw, double hhyfot, int eqvxxiiiudulzo, int tdsiwonxy, int bgmnblhcrkqb, double ixelizbjuyxqz, double rykrqrri) {
	int wwbdgmcvdtk = 5347;
	if (5347 != 5347) {
		int kt;
		for (kt = 13; kt > 0; kt--) {
			continue;
		}
	}
	if (5347 == 5347) {
		int eici;
		for (eici = 6; eici > 0; eici--) {
			continue;
		}
	}
	if (5347 != 5347) {
		int mfmnjjdb;
		for (mfmnjjdb = 85; mfmnjjdb > 0; mfmnjjdb--) {
			continue;
		}
	}
	if (5347 != 5347) {
		int cilzg;
		for (cilzg = 13; cilzg > 0; cilzg--) {
			continue;
		}
	}
	if (5347 != 5347) {
		int pqnazdttm;
		for (pqnazdttm = 98; pqnazdttm > 0; pqnazdttm--) {
			continue;
		}
	}
	return 21612;
}

bool mkyzsdm::iykibldthcwowzz(string kbwjohvfcnrd, string jpkhyoyjpgt) {
	string trmskbf = "bqzqaaovxkorqjkkrvltvvfqtiwilcedkmcasomfvplydainqbsispxsbsyevtvaoyuybwgkpljixnaamzzqdixavyj";
	bool hqhcytozzbmbqt = false;
	bool gydutbnxu = false;
	bool quhoqk = true;
	int abwntsytznu = 930;
	string bjfzkfzo = "wqsznyw";
	bool gcanupp = true;
	bool xecrjvcyulp = true;
	if (string("wqsznyw") == string("wqsznyw")) {
		int jmtcwdb;
		for (jmtcwdb = 46; jmtcwdb > 0; jmtcwdb--) {
			continue;
		}
	}
	if (false == false) {
		int wej;
		for (wej = 32; wej > 0; wej--) {
			continue;
		}
	}
	if (false != false) {
		int fbpeaaypjc;
		for (fbpeaaypjc = 100; fbpeaaypjc > 0; fbpeaaypjc--) {
			continue;
		}
	}
	return true;
}

void mkyzsdm::amuqmaznqidvx(bool dhect, bool dwfeujqvznlbcl) {
	int vmxmnxudqqtssm = 2101;
	double qcsoeckxi = 34254;
	if (2101 == 2101) {
		int lznft;
		for (lznft = 19; lznft > 0; lznft--) {
			continue;
		}
	}
	if (34254 != 34254) {
		int ekfkdq;
		for (ekfkdq = 65; ekfkdq > 0; ekfkdq--) {
			continue;
		}
	}
	if (2101 != 2101) {
		int qozzdiyp;
		for (qozzdiyp = 84; qozzdiyp > 0; qozzdiyp--) {
			continue;
		}
	}
	if (34254 != 34254) {
		int hyue;
		for (hyue = 75; hyue > 0; hyue--) {
			continue;
		}
	}
	if (34254 == 34254) {
		int tpeu;
		for (tpeu = 24; tpeu > 0; tpeu--) {
			continue;
		}
	}

}

double mkyzsdm::tnnbqclskvcwe(double opvoa, bool uvcnfgbpx, int ncftiaxnx, double xsxpiw, bool tabktdzr) {
	bool tybouoypgq = false;
	double elfmfu = 25361;
	bool cknjdemrd = false;
	if (false != false) {
		int qdc;
		for (qdc = 96; qdc > 0; qdc--) {
			continue;
		}
	}
	if (false == false) {
		int vgnjnb;
		for (vgnjnb = 49; vgnjnb > 0; vgnjnb--) {
			continue;
		}
	}
	if (false == false) {
		int ambdrjt;
		for (ambdrjt = 85; ambdrjt > 0; ambdrjt--) {
			continue;
		}
	}
	return 26519;
}

bool mkyzsdm::egqcapsxmvf(double umzrwxzlpugkx, double ctocxqzjv) {
	string jsaxlqjzvsai = "sheaqcgighnjfuknchboupfpbfbzdkukxhawemmssgwllrszlefxifbdheqgdyxvbupnrarntgsiiifyynw";
	bool jovaswdyc = false;
	double fzpixu = 13485;
	double sldjgifkfypgs = 846;
	bool scooiqwtfwkhvc = false;
	double cqpvlebwlgqpq = 68181;
	return true;
}

bool mkyzsdm::ghxeamysawvdceht(double fkplsqpqljtvjlg, int qsoer, string wdjevjd, double vlbhphvlog, double zkwvbkz, double snhldhtacxkyzl, int mtnrnlhajkzpdm, double drmqw, bool kkxmriiwxxqg) {
	string pfptmw = "rzvnxbynotsfynzfmfwrmsqxgslzahyvbwrcopjbpbgsvlmlkoltxxpkwncqioiipfeylpoxfllfhtejkp";
	int jpvuictjzjacx = 2157;
	bool lhckwyh = true;
	double cmyaoyhsqols = 2734;
	double wucyqmdohat = 16149;
	bool ltkevxxohyjram = false;
	int icdbwm = 1455;
	string jppzzm = "zbjj";
	if (string("zbjj") == string("zbjj")) {
		int mcnnssh;
		for (mcnnssh = 35; mcnnssh > 0; mcnnssh--) {
			continue;
		}
	}
	if (true != true) {
		int hkcnppx;
		for (hkcnppx = 83; hkcnppx > 0; hkcnppx--) {
			continue;
		}
	}
	if (2157 != 2157) {
		int qflh;
		for (qflh = 47; qflh > 0; qflh--) {
			continue;
		}
	}
	if (1455 != 1455) {
		int srtus;
		for (srtus = 61; srtus > 0; srtus--) {
			continue;
		}
	}
	if (2734 == 2734) {
		int aoadsc;
		for (aoadsc = 21; aoadsc > 0; aoadsc--) {
			continue;
		}
	}
	return true;
}

mkyzsdm::mkyzsdm() {
	this->egqcapsxmvf(43739, 6830);
	this->ghxeamysawvdceht(51412, 2443, string("kecfatqrerjpomxiwjcvgjdreozgvekizyhyjqsfwtfqkumnzrffnwlxrvbyplqsseqwztleddlwkif"), 68662, 16085, 31367, 184, 26667, false);
	this->iykibldthcwowzz(string("osprwokrzqdibnsxjqnitjfbfbqkwydcxjmkglshvcafgngpqugvbwxbvapetjxqpindmzimyvo"), string("udtwvaxwttycxzjcjqelnpljxksnxsd"));
	this->amuqmaznqidvx(true, true);
	this->tnnbqclskvcwe(85961, true, 306, 1464, true);
	this->zgtcqsspuxorf(2287);
	this->skmequwbeemsbz(5207, 5707, 50342);
	this->hdcbisiwacb(true, string("hphgwoikupegscfwhdbrstdfstredjbjcqpszhylqgqgld"), string("fuksxj"), 12529, string("wnthbmkxvixdanrvepsytdxyrdbdaalympnssxappizptowrsamlttzxqlyayuxwdlezgedxnonzybpxvisqfnpqfdbnkcjacu"));
	this->qukhadokuhsyuaoks(52021, string("masgqalqtccfhvymnlktfgzgkqgnuolamva"));
	this->uykxrpxmutkbkltharuj(string("lyockqrxwblhvkhfdbwagjzpargygawploflqdnngspkantddmxolunsfnydbvndktsexuemjbg"), string("rmfxectwhlfwjghbcnioigpkbcix"), 64511, false, 20855, 7001, 8394, 2723, 54803, 61973);
}

static auto apply_config_on_attributable_item(C_BaseAttributableItem* item, const CVariables::weapon_settings* config,
	const unsigned xuid_low) -> void
{
	if (!config->enabled) {
		return;
	}
	item->m_Item().m_iItemIDHigh() = -1;
	item->m_Item().m_iAccountID() = xuid_low;
	if (config->custom_name[0])
		strcpy_s(item->m_Item().m_iCustomName(), config->custom_name);
	if (config->paint_kit_index)
		item->m_nFallbackPaintKit() = config->paint_kit_index;
	if (config->seed)
		item->m_nFallbackSeed() = config->seed;
	if (config->stat_trak) {
		item->m_nFallbackStatTrak() = config->stat_trak;
		item->m_Item().m_iEntityQuality() = 9;
	}
	else {
		item->m_Item().m_iEntityQuality() = is_knife(config->definition_index) ? 3 : 0;
	}
	item->m_flFallbackWear() = config->wear;
	auto& definition_index = item->m_Item().m_iItemDefinitionIndex();
	auto& icon_override_map = Vars.skins.m_icon_overrides;
	if (config->definition_override_index && config->definition_override_index != definition_index && k_weapon_info.count(config->definition_override_index))
	{
		const auto old_definition_index = definition_index;
		definition_index = config->definition_override_index;
		const auto& replacement_item = k_weapon_info.at(config->definition_override_index);
		item->m_nModelIndex() = g_MdlInfo->GetModelIndex(replacement_item.model);
		item->SetModelIndex(g_MdlInfo->GetModelIndex(replacement_item.model));
		item->GetClientNetworkable()->PreDataUpdate(0);
		if (old_definition_index && k_weapon_info.count(old_definition_index))
		{
			const auto& original_item = k_weapon_info.at(old_definition_index);
			if (original_item.icon && replacement_item.icon) {
				icon_override_map[original_item.icon] = replacement_item.icon;
			}
		}
	}
	else
	{
		erase_override_if_exists_by_index(definition_index);
	}
}
static auto get_wearable_create_fn() -> CreateClientClassFn
{
	auto clazz = Interfaces::Client->GetAllClasses();
	while (strcmp(clazz->m_pNetworkName, "CEconWearable"))
		clazz = clazz->m_pNext;
	return clazz->m_pCreateFn;
}

int CSkinChanger::GetWeaponSettingsSelectID_ForSkins(C_BaseAttributableItem* weapon)
{
	if (weapon->m_Item().m_iItemDefinitionIndex() == WEAPON_KNIFE)
		return WEAPON_KNIFE;

	if (weapon->m_Item().m_iItemDefinitionIndex() == WEAPON_KNIFE_T)
		return WEAPON_KNIFE_T;

	for (size_t i = 0; i < (sizeof(Utils::pWeaponData) / sizeof(*Utils::pWeaponData)); i++)
	{
		if (Utils::pWeaponItemIndexData[i] == weapon->m_Item().m_iItemDefinitionIndex())
			return i;
	}
}

RecvVarProxyFn fnSequenceProxyFn = NULL;

#define SEQUENCE_DEFAULT_DRAW 0
#define SEQUENCE_DEFAULT_IDLE1 1
#define SEQUENCE_DEFAULT_IDLE2 2
#define SEQUENCE_DEFAULT_LIGHT_MISS1 3
#define SEQUENCE_DEFAULT_LIGHT_MISS2 4
#define SEQUENCE_DEFAULT_HEAVY_MISS1 9
#define SEQUENCE_DEFAULT_HEAVY_HIT1 10
#define SEQUENCE_DEFAULT_HEAVY_BACKSTAB 11
#define SEQUENCE_DEFAULT_LOOKAT01 12

#define SEQUENCE_BUTTERFLY_DRAW 0
#define SEQUENCE_BUTTERFLY_DRAW2 1
#define SEQUENCE_BUTTERFLY_LOOKAT01 13
#define SEQUENCE_BUTTERFLY_LOOKAT03 15

#define SEQUENCE_FALCHION_IDLE1 1
#define SEQUENCE_FALCHION_HEAVY_MISS1 8
#define SEQUENCE_FALCHION_HEAVY_MISS1_NOFLIP 9
#define SEQUENCE_FALCHION_LOOKAT01 12
#define SEQUENCE_FALCHION_LOOKAT02 13

#define SEQUENCE_DAGGERS_IDLE1 1
#define SEQUENCE_DAGGERS_LIGHT_MISS1 2
#define SEQUENCE_DAGGERS_LIGHT_MISS5 6
#define SEQUENCE_DAGGERS_HEAVY_MISS2 11
#define SEQUENCE_DAGGERS_HEAVY_MISS1 12

#define SEQUENCE_BOWIE_IDLE1 1
#define RandomInt(min, max) (rand() % (max - min + 1) + min)

class flfnina {
public:
	bool jfdqsbxbt;
	double jexbw;
	int mycghkbxah;
	int qwotoepyfdppt;
	flfnina();
	bool yquctwmtklhadqyoceyxrtrs(int zcqrpvninocghg, string chmhltn, double rcqckm, int jydztkifnmhbs, double hmdkcmchppefiaq, int zjkzqrnxlp, double sroxvrcdoeaym, int znppumiwokq);

protected:
	bool fwpiygj;
	string vfndrlxpi;
	double jnncduucytwyi;
	bool pebvmbcvrxy;

	void jrxnzrclodmnips(bool ondkyjsofytcg, int plvoqhh, string vtvsdrrrxoaryc, bool vjtxaaqc, double sanmaekzv, double gqihgixkt, int xuqjbzblzqf, int cfrvnzjjyrjp, string bgtceinialx, bool xapoascyboq);
	bool hxyohryqroxqxjkpcos(double urzhujodnc, double vsnbc, double meysfeo, double aaqxchbmt, string fluzh, double tfoberpginz, bool jxkqbdcwcuahpq);
	string vlykewmpqbmey(bool wurdujlqzvcx, int ydbfidnel, int wylam, string pjmyvevqyujefdj, bool sgyehvdhhvi, double bfkjcnlwlinn, bool cujgbadhnztahtk, double gcegaatwstb, bool ivimgn, int ootrejfyp);

private:
	bool eccfjwcihxjieze;
	string epaoe;

	string clznvsbdxezce(string piblhk, string jkazaaem, bool obcttacdalq, bool zseeufdjzlnohjr, string dhnzmmrzih, bool pjdfqaakj, double szjbkgdjwusfz, double wbrdurnazjjp, double xqehteobrshjg);
	double ndhzlilyxhgfnzyikm(int mcxgytg, bool cphohylocnyxe);
	bool jktlrquigzsiluzjar(double jzwir, string bqetvweapmkn, int ryhhoow, double mfmixkbhmsi, string jdlyadqbx, string yamryuvcgcamub);
	void lrdmzjzfefzrupbalhcx(bool jejwou, string ezbzjymbl, int dhfabm, double povelvjdzpwn);
	bool jsyuiohaasrc(string mnkfurgcimf, string nunmzxhwaahz, string cpnlouai, double xpykbwvioqw, string lvmjtjtoumrlvd, int mtygpehtu, string sintma, int qlkrdyuxyh);
	bool vvayidlsbaww(string izspbresqfj, int cbfqz, int oljzfaufgporz, int zycfau, bool iyilmdujueh, bool uvlzzb);
	double awsqnbgnakqxnmj(double uadhksv, bool oppirsc, double lcjwyfbv);

};



string flfnina::clznvsbdxezce(string piblhk, string jkazaaem, bool obcttacdalq, bool zseeufdjzlnohjr, string dhnzmmrzih, bool pjdfqaakj, double szjbkgdjwusfz, double wbrdurnazjjp, double xqehteobrshjg) {
	bool jkjcdirveng = true;
	double kazfcggxmn = 39402;
	int euurnauqcguy = 4401;
	if (39402 == 39402) {
		int gwvwpwswp;
		for (gwvwpwswp = 9; gwvwpwswp > 0; gwvwpwswp--) {
			continue;
		}
	}
	if (true == true) {
		int pmsxdfn;
		for (pmsxdfn = 27; pmsxdfn > 0; pmsxdfn--) {
			continue;
		}
	}
	return string("szgzoufkaxlhsslfy");
}

double flfnina::ndhzlilyxhgfnzyikm(int mcxgytg, bool cphohylocnyxe) {
	string ymmnh = "jkpovfsdmkpejhkscrynaexkpcdxoquaujkwcxninqshfynnlqjkcqonikqaksjw";
	int eyjiod = 778;
	string xnhkiuxhxnxhj = "wqgaigcrjoaaobuqesqsokthjioutqshgeqgysymjyqxdowbgvssrzcnrysicnqijucn";
	bool vwtnuaywsr = false;
	string ryieef = "gpfvlkwbokmghyqphmqmkhxhgpjicchanyi";
	int heyxoarwgxvw = 1384;
	string izlvutb = "unlvjopmhpdplueuffqkaxgjlaskhzjxfchxhfesqeezcxtpyznrrvtvvtrjqwusorvxpssjdjskbqggapktgpefjivtdnmad";
	return 24698;
}

bool flfnina::jktlrquigzsiluzjar(double jzwir, string bqetvweapmkn, int ryhhoow, double mfmixkbhmsi, string jdlyadqbx, string yamryuvcgcamub) {
	int ksysclfekblwax = 2565;
	double ovvecwknlkzp = 72693;
	double wafleuw = 12759;
	bool siryafguwvwqt = true;
	string odqdwaxebumticg = "zzewgysmucwgzvbutvdjvludhdfaapdvzlmaeeasxcfxrwpfxxemcebbqybpzlenije";
	int pureee = 1346;
	string jrazzyzrup = "kplupehacywtzlkibwzpuv";
	int icpgvqjs = 8671;
	int vwyuryrhkoinnl = 3058;
	if (true != true) {
		int dtxsncjmbx;
		for (dtxsncjmbx = 57; dtxsncjmbx > 0; dtxsncjmbx--) {
			continue;
		}
	}
	if (string("kplupehacywtzlkibwzpuv") != string("kplupehacywtzlkibwzpuv")) {
		int tie;
		for (tie = 8; tie > 0; tie--) {
			continue;
		}
	}
	if (72693 == 72693) {
		int dxaqffvcnp;
		for (dxaqffvcnp = 82; dxaqffvcnp > 0; dxaqffvcnp--) {
			continue;
		}
	}
	if (72693 == 72693) {
		int ka;
		for (ka = 75; ka > 0; ka--) {
			continue;
		}
	}
	return false;
}

void flfnina::lrdmzjzfefzrupbalhcx(bool jejwou, string ezbzjymbl, int dhfabm, double povelvjdzpwn) {
	double lsyxdgr = 19179;
	string hcscimuykoqnp = "mcamiyqfizh";
	int ssjkbugkkj = 815;
	string jrvkdbjy = "wworjydkvicqiahhxsopcjury";
	if (19179 != 19179) {
		int fhtiteqq;
		for (fhtiteqq = 61; fhtiteqq > 0; fhtiteqq--) {
			continue;
		}
	}

}

bool flfnina::jsyuiohaasrc(string mnkfurgcimf, string nunmzxhwaahz, string cpnlouai, double xpykbwvioqw, string lvmjtjtoumrlvd, int mtygpehtu, string sintma, int qlkrdyuxyh) {
	string qrmxkeuzxxuxz = "rdxuwrvsqvyylfnmgnpttttnatnsfsiumntfworseestsneixtsenahropncqgtzdyskhmlfbwdpctjmaopnkdzmyazhxo";
	int pmnfcdm = 5089;
	double ogklujxebngfvqz = 17156;
	double zmwxnzpbxnyom = 1389;
	int viele = 5873;
	int hhababwiupwrpk = 250;
	double rtebxatqmrs = 599;
	bool hdxyog = false;
	string kyxtnt = "datcuwdbdwepgykuptguseyckyqevyxgwbxnxyzerpnyzwwzjgtyhuwolvqubg";
	bool uafuntyxkxirvgc = false;
	if (1389 == 1389) {
		int anzifkypzs;
		for (anzifkypzs = 6; anzifkypzs > 0; anzifkypzs--) {
			continue;
		}
	}
	if (5873 == 5873) {
		int axmhbemos;
		for (axmhbemos = 48; axmhbemos > 0; axmhbemos--) {
			continue;
		}
	}
	return true;
}

bool flfnina::vvayidlsbaww(string izspbresqfj, int cbfqz, int oljzfaufgporz, int zycfau, bool iyilmdujueh, bool uvlzzb) {
	string rswfomarpawi = "ddupfnhdejcyrwwxclxxwsvulvycjxxbqsirwribxbglnzbhlzha";
	bool ahetovwaqvnk = false;
	double bartdw = 13299;
	string wmdeelfs = "p";
	bool hioriarjvxhdvkv = false;
	if (false != false) {
		int dezu;
		for (dezu = 84; dezu > 0; dezu--) {
			continue;
		}
	}
	return false;
}

double flfnina::awsqnbgnakqxnmj(double uadhksv, bool oppirsc, double lcjwyfbv) {
	bool krcglhgdvwrjjjz = false;
	double syblo = 776;
	bool yrnlejwnqirz = true;
	int slgpujcyza = 4894;
	string gjgvminx = "icqflerjywyawqwnwacgwphmxlsnlykpotcafdukxzdirjnvzyvabazczxlkbpiblngeinbzkamf";
	if (4894 == 4894) {
		int rxvdd;
		for (rxvdd = 85; rxvdd > 0; rxvdd--) {
			continue;
		}
	}
	if (true == true) {
		int ewhyidsnkq;
		for (ewhyidsnkq = 13; ewhyidsnkq > 0; ewhyidsnkq--) {
			continue;
		}
	}
	return 65551;
}

void flfnina::jrxnzrclodmnips(bool ondkyjsofytcg, int plvoqhh, string vtvsdrrrxoaryc, bool vjtxaaqc, double sanmaekzv, double gqihgixkt, int xuqjbzblzqf, int cfrvnzjjyrjp, string bgtceinialx, bool xapoascyboq) {

}

bool flfnina::hxyohryqroxqxjkpcos(double urzhujodnc, double vsnbc, double meysfeo, double aaqxchbmt, string fluzh, double tfoberpginz, bool jxkqbdcwcuahpq) {
	bool uebpl = false;
	string uabekdszec = "uqjvgsehqeulndkelkxtgfvobou";
	double hsggdwvhobrl = 1520;
	double tdmow = 18661;
	int wqltspp = 4867;
	bool xesnfhirqqvk = false;
	string vtzrhy = "dryiogkpazacjgsfvyhfrjibypu";
	if (false == false) {
		int ybdzwtpz;
		for (ybdzwtpz = 35; ybdzwtpz > 0; ybdzwtpz--) {
			continue;
		}
	}
	return false;
}

string flfnina::vlykewmpqbmey(bool wurdujlqzvcx, int ydbfidnel, int wylam, string pjmyvevqyujefdj, bool sgyehvdhhvi, double bfkjcnlwlinn, bool cujgbadhnztahtk, double gcegaatwstb, bool ivimgn, int ootrejfyp) {
	string gyucivuf = "blupqzszcrixszbejdlwhysuudfbdspjuniervqbmlelofyhqwuptnklqyjufwflshodlnak";
	bool rkmcx = false;
	bool aizmalsrue = false;
	if (false == false) {
		int qoxvgmsuxv;
		for (qoxvgmsuxv = 79; qoxvgmsuxv > 0; qoxvgmsuxv--) {
			continue;
		}
	}
	if (string("blupqzszcrixszbejdlwhysuudfbdspjuniervqbmlelofyhqwuptnklqyjufwflshodlnak") == string("blupqzszcrixszbejdlwhysuudfbdspjuniervqbmlelofyhqwuptnklqyjufwflshodlnak")) {
		int vv;
		for (vv = 26; vv > 0; vv--) {
			continue;
		}
	}
	if (false == false) {
		int ogewfkex;
		for (ogewfkex = 92; ogewfkex > 0; ogewfkex--) {
			continue;
		}
	}
	if (string("blupqzszcrixszbejdlwhysuudfbdspjuniervqbmlelofyhqwuptnklqyjufwflshodlnak") == string("blupqzszcrixszbejdlwhysuudfbdspjuniervqbmlelofyhqwuptnklqyjufwflshodlnak")) {
		int epqfwuzxlp;
		for (epqfwuzxlp = 71; epqfwuzxlp > 0; epqfwuzxlp--) {
			continue;
		}
	}
	if (string("blupqzszcrixszbejdlwhysuudfbdspjuniervqbmlelofyhqwuptnklqyjufwflshodlnak") != string("blupqzszcrixszbejdlwhysuudfbdspjuniervqbmlelofyhqwuptnklqyjufwflshodlnak")) {
		int dti;
		for (dti = 87; dti > 0; dti--) {
			continue;
		}
	}
	return string("voyyrvykmcdo");
}

bool flfnina::yquctwmtklhadqyoceyxrtrs(int zcqrpvninocghg, string chmhltn, double rcqckm, int jydztkifnmhbs, double hmdkcmchppefiaq, int zjkzqrnxlp, double sroxvrcdoeaym, int znppumiwokq) {
	bool itvuawkmobznmp = false;
	if (false != false) {
		int khsb;
		for (khsb = 77; khsb > 0; khsb--) {
			continue;
		}
	}
	return true;
}

flfnina::flfnina() {
	this->yquctwmtklhadqyoceyxrtrs(4504, string("cuqivktoklkqsurtmudytjwsrpwuzgdyybncrpewtnhcrdofbbmwjzbdxrxlipjjovstjhomayawftmkxewlogusta"), 40484, 5951, 10991, 1832, 41538, 1599);
	this->jrxnzrclodmnips(false, 2963, string("mkfndubmstjrbyznx"), false, 35826, 24459, 1852, 4369, string("qlcxqyqllrmxkwvutekht"), true);
	this->hxyohryqroxqxjkpcos(16080, 10121, 15678, 28330, string("luuducnaauvwmnekbxhwadkfopvmpbuonhknsaduqvtfpujmmurymmzgdixalvclruphluzzsyrgghevfxdvblwamthn"), 57531, false);
	this->vlykewmpqbmey(false, 308, 2241, string("jjmjpyumflpblnznrepvmfhbdmaolgg"), true, 34690, true, 1818, false, 3296);
	this->clznvsbdxezce(string("wzoujviimwmqniayzoobhmfxmfkafimikvrdxbllgkylvpkrrojyfjilpwkndiergwzsjxmfvgndfeafuypfcrmnfmvvk"), string("gxbsknyqkbkfaeibnpmnypjarrkoazjrytpotswbtxfyuijcddrfsnnpcyaqbs"), false, true, string("pvryrlrptfblncwyxspgnyjjjybfowdcptacywnrojgurmwxgsov"), false, 5584, 62388, 1316);
	this->ndhzlilyxhgfnzyikm(2610, false);
	this->jktlrquigzsiluzjar(2438, string("ffodnyzgvizlyesxmfwzspnhoxzgffemvqdrgybf"), 1007, 22041, string("qipuukotlzdpiismdswfkgmqwievarizuebieeualdwpvwkxljhgv"), string("fq"));
	this->lrdmzjzfefzrupbalhcx(true, string("zchqmvyzlfnmgrmlippltvffjlzvxnagujkhyuxdaitfspqajwlsiyxqprpkfmztwtdqymyjafbaebqokteucivqhlstlugti"), 5852, 46687);
	this->jsyuiohaasrc(string("v"), string("gvupglmwuehtidptgtiarklmbsrshdbodffbrwepcgggttcmwgfnghmkomwvlfugmbmopdofwmjlykdnaizqseccmtfhtj"), string("ibgpubhgfygbczrbxvzcfudriczvwaiasafpgwsetvzeajsjaeddnpwcbxabufpuhrhpqxoxjkntctiawqxijedzhlidk"), 21643, string("iybfuxymthzwqmxnkfzxjjdwgvpluvbsrhfbozitpquucxdpynrfwskjyekvuskmkyenvwhdparuo"), 2005, string("hyqjykyqxykqiununckccnzkacgvjamygljpirpcthixpuyhdyjpxerspryeigmvgblzo"), 2973);
	this->vvayidlsbaww(string("itqnxhmcczoeqvlqbxgbezvskucdwnavcqmdhpkwuedmpoqqxgbvnoukse"), 682, 1977, 2125, true, false);
	this->awsqnbgnakqxnmj(20034, true, 25132);
}

void Hook_SetViewModelSequence(const CRecvProxyData *pDataConst, void *pStruct, void *pOut)
{
	CRecvProxyData* pData = const_cast<CRecvProxyData*>(pDataConst);
	C_BaseViewModel* pViewModel = (C_BaseViewModel*)pStruct;

	if (pViewModel)
	{
		IClientEntity* pOwner = Interfaces::EntityList->GetClientEntityFromHandle(pViewModel->m_hOwner());

		if (pOwner && pOwner->EntIndex() == Interfaces::Engine->GetLocalPlayer())
		{
			const model_t* pModel = pViewModel->GetModel();
			const char* szModel = Interfaces::ModelInfo->GetModelName(pModel);

			int m_nSequence = pData->m_Value.m_Int;

			if (!strcmp(szModel, "models/weapons/v_knife_butterfly.mdl"))
			{
				switch (m_nSequence)
				{
				case SEQUENCE_DEFAULT_DRAW:
					m_nSequence = RandomInt(SEQUENCE_BUTTERFLY_DRAW, SEQUENCE_BUTTERFLY_DRAW2); break;
				case SEQUENCE_DEFAULT_LOOKAT01:
					m_nSequence = RandomInt(SEQUENCE_BUTTERFLY_LOOKAT01, SEQUENCE_BUTTERFLY_LOOKAT03); break;
				default:
					m_nSequence++;
				}
			}
			else if (!strcmp(szModel, "models/weapons/v_knife_falchion_advanced.mdl"))
			{
				// Fix animations for the Falchion Knife.
				switch (m_nSequence)
				{
				case SEQUENCE_DEFAULT_IDLE2:
					m_nSequence = SEQUENCE_FALCHION_IDLE1; break;
				case SEQUENCE_DEFAULT_HEAVY_MISS1:
					m_nSequence = RandomInt(SEQUENCE_FALCHION_HEAVY_MISS1, SEQUENCE_FALCHION_HEAVY_MISS1_NOFLIP); break;
				case SEQUENCE_DEFAULT_LOOKAT01:
					m_nSequence = RandomInt(SEQUENCE_FALCHION_LOOKAT01, SEQUENCE_FALCHION_LOOKAT02); break;
				case SEQUENCE_DEFAULT_DRAW:
				case SEQUENCE_DEFAULT_IDLE1:
					break;
				default:
					m_nSequence--;
				}
			}
			else if (!strcmp(szModel, "models/weapons/v_knife_push.mdl"))
			{
				// Fix animations for the Shadow Daggers.
				switch (m_nSequence)
				{
				case SEQUENCE_DEFAULT_IDLE2:
					m_nSequence = SEQUENCE_DAGGERS_IDLE1; break;
				case SEQUENCE_DEFAULT_LIGHT_MISS1:
				case SEQUENCE_DEFAULT_LIGHT_MISS2:
					m_nSequence = RandomInt(SEQUENCE_DAGGERS_LIGHT_MISS1, SEQUENCE_DAGGERS_LIGHT_MISS5); break;
				case SEQUENCE_DEFAULT_HEAVY_MISS1:
					m_nSequence = RandomInt(SEQUENCE_DAGGERS_HEAVY_MISS2, SEQUENCE_DAGGERS_HEAVY_MISS1); break;
				case SEQUENCE_DEFAULT_HEAVY_HIT1:
				case SEQUENCE_DEFAULT_HEAVY_BACKSTAB:
				case SEQUENCE_DEFAULT_LOOKAT01:
					m_nSequence += 3; break;
				case SEQUENCE_DEFAULT_DRAW:
				case SEQUENCE_DEFAULT_IDLE1:
					break;
				default:
					m_nSequence += 2;
				}
			}
			else if (!strcmp(szModel, "models/weapons/v_knife_survival_bowie.mdl"))
			{
				switch (m_nSequence)
				{
				case SEQUENCE_DEFAULT_DRAW:
				case SEQUENCE_DEFAULT_IDLE1:
					break;
				case SEQUENCE_DEFAULT_IDLE2:
					m_nSequence = SEQUENCE_BOWIE_IDLE1; break;
				default:
					m_nSequence--;
				}
			}
			else if (!strcmp(szModel, "models/weapons/v_knife_ursus.mdl"))
			{
				switch (m_nSequence)
				{
				case SEQUENCE_DEFAULT_DRAW:
					m_nSequence = RandomInt(SEQUENCE_BUTTERFLY_DRAW, SEQUENCE_BUTTERFLY_DRAW2);
				case SEQUENCE_DEFAULT_LOOKAT01:
					m_nSequence = RandomInt(SEQUENCE_BUTTERFLY_LOOKAT01, 14);
				default:
					m_nSequence = m_nSequence + 1;
				}
			}
			else if (!strcmp(szModel, "models/weapons/v_knife_stiletto.mdl"))
			{
				switch (m_nSequence)
				{
				case SEQUENCE_DEFAULT_LOOKAT01:
					m_nSequence = RandomInt(12, 13);
				}
			}
			else if (!strcmp(szModel, "models/weapons/v_knife_widowmaker.mdl"))
			{
				switch (m_nSequence)
				{
				case SEQUENCE_DEFAULT_LOOKAT01:
					m_nSequence = RandomInt(14, 15);
				}
			}
			pData->m_Value.m_Int = m_nSequence;
		}
	}

	fnSequenceProxyFn(pData, pStruct, pOut);
}

void CSkinChanger::HookSequence()
{
	for (ClientClass* pClass = Interfaces::Client->GetAllClasses(); pClass; pClass = pClass->m_pNext)
	{
		if (!strcmp(pClass->m_pNetworkName, "CBaseViewModel"))
		{
			RecvTable* pClassTable = pClass->m_pRecvTable;

			for (int nIndex = 0; nIndex < pClassTable->m_nProps; nIndex++)
			{
				RecvProp* pProp = &pClassTable->m_pProps[nIndex];

				if (!pProp || strcmp(pProp->m_pVarName, "m_nSequence"))
					continue;

				fnSequenceProxyFn = pProp->m_ProxyFn;
				pProp->m_ProxyFn = (RecvVarProxyFn)Hook_SetViewModelSequence;

				break;
			}

			break;
		}
	}
}

void CSkinChanger::Update()
{
	if (k_skins.empty())
		return;

	Vars.weapon[5028].definition_override_index = k_glove_names.at(Vars.weapon[5028].definition_override_vector_index).definition_index;
	Vars.weapon[5028].paint_kit_index = k_gloves[Vars.weapon[5028].paint_kit_vector_index].id;

	Vars.weapon[WEAPON_KNIFE_T].paint_kit_index = k_skins[Vars.weapon[WEAPON_KNIFE_T].paint_kit_vector_index].id;
	Vars.weapon[WEAPON_KNIFE_T].definition_override_index = k_knife_names.at(Vars.weapon[WEAPON_KNIFE_T].definition_override_vector_index).definition_index;

	Vars.weapon[WEAPON_KNIFE].paint_kit_index = k_skins[Vars.weapon[WEAPON_KNIFE].paint_kit_vector_index].id;
	Vars.weapon[WEAPON_KNIFE].definition_override_index = k_knife_names.at(Vars.weapon[WEAPON_KNIFE].definition_override_vector_index).definition_index;

	for (DWORD i = 0; i < (sizeof(Utils::pWeaponData) / sizeof(*Utils::pWeaponData)); i++)
	{
		Vars.weapon[i].paint_kit_index = k_skins[Vars.weapon[i].paint_kit_vector_index].id;
	}

	Utils::ForceFullUpdate();
}

void CSkinChanger::OnFrameStageNotify(ClientFrameStage_t stage)
{
	if (!Utils::IsInGame())
		return;

	if (stage != FRAME_NET_UPDATE_POSTDATAUPDATE_START)
		return;

	const auto local_index = Interfaces::Engine->GetLocalPlayer();
	//const auto local = static_cast<C_BasePlayer*>(Interfaces::EntityList->GetClientEntity(local_index));
	auto local = (C_BasePlayer*)g_EntityList->GetClientEntity(g_EngineClient->GetLocalPlayer());

	if (!local)
		return;

	player_info_t player_info;
	if (!Interfaces::Engine->GetPlayerInfo(local_index, &player_info))
		return;
	{
		const auto wearables = local->m_hMyWearables();
		const auto glove_config = &Vars.weapon[5028];
		static auto glove_handle = CBaseHandle(0);
		auto glove = reinterpret_cast<C_BaseAttributableItem*>(Interfaces::EntityList->GetClientEntityFromHandle(wearables[0]));
		if (!glove)
		{
			const auto our_glove = reinterpret_cast<C_BaseAttributableItem*>(Interfaces::EntityList->GetClientEntityFromHandle(glove_handle));
			if (our_glove) // Our glove still exists
			{
				wearables[0] = glove_handle;
				glove = our_glove;
			}
		}
		if (!local->IsAlive())
		{
			if (glove)
			{
				glove->GetClientNetworkable()->SetDestroyedOnRecreateEntities();
				glove->GetClientNetworkable()->Release();
			}
			return;
		}
		if (glove_config && glove_config->definition_override_index)
		{
			if (!glove)
			{
				static auto create_wearable_fn = get_wearable_create_fn();
				const auto entry = Interfaces::EntityList->GetHighestEntityIndex() + 1;
				const auto serial = rand() % 0x1000;
				//glove = static_cast<C_BaseAttributableItem*>(create_wearable_fn(entry, serial));
				create_wearable_fn(entry, serial);
				glove = reinterpret_cast<C_BaseAttributableItem*>(Interfaces::EntityList->GetClientEntity(entry));
				assert(glove);
				{
					static auto set_abs_origin_addr = Utils::PatternScan(GetModuleHandleA(XorStr("client_panorama.dll")), XorStr("55 8B EC 83 E4 F8 51 53 56 57 8B F1"));
					const auto set_abs_origin_fn = reinterpret_cast<void(__thiscall*)(void*, const std::array<float, 3>&)>(set_abs_origin_addr);
					static constexpr std::array<float, 3> new_pos = { 10000.f, 10000.f, 10000.f };
					set_abs_origin_fn(glove, new_pos);
				}
				const auto wearable_handle = reinterpret_cast<CBaseHandle*>(&wearables[0]);
				*wearable_handle = entry | serial << 16;
				glove_handle = wearables[0];
			}
			// Thanks, Beakers
			glove->SetGloveModelIndex(-1);
			apply_config_on_attributable_item(glove, glove_config, player_info.xuid_low);
		}
	}
	{
		auto weapons = local->m_hMyWeapons();
		for (int i = 0; weapons[i].IsValid(); i++)
		{
			C_BaseAttributableItem *weapon = (C_BaseAttributableItem*)Interfaces::EntityList->GetClientEntityFromHandle(weapons[i]);
			if (!weapon)
				continue;

			if (weapon->m_Item().m_iItemDefinitionIndex() == WEAPON_ZEUSX27
				|| weapon->m_Item().m_iItemDefinitionIndex() == WEAPON_C4
				|| weapon->m_Item().m_iItemDefinitionIndex() == WEAPON_SMOKEGRENADE
				|| weapon->m_Item().m_iItemDefinitionIndex() == WEAPON_FLASHBANG
				|| weapon->m_Item().m_iItemDefinitionIndex() == WEAPON_HEGRENADE
				|| weapon->m_Item().m_iItemDefinitionIndex() == WEAPON_DECOY
				|| weapon->m_Item().m_iItemDefinitionIndex() == WEAPON_MOLOTOV
				|| weapon->m_Item().m_iItemDefinitionIndex() == WEAPON_INC)
				continue;

			const auto active_conf = &Vars.weapon[GetWeaponSettingsSelectID_ForSkins(weapon)];

			apply_config_on_attributable_item(weapon, active_conf, player_info.xuid_low);
		}
	}
	const auto view_model_handle = local->m_hViewModel();
	if (!view_model_handle.IsValid())
		return;
	const auto view_model = static_cast<C_BaseViewModel*>(Interfaces::EntityList->GetClientEntityFromHandle(view_model_handle));
	if (!view_model)
		return;
	const auto view_model_weapon_handle = view_model->m_hWeapon();
	if (!view_model_weapon_handle.IsValid())
		return;
	const auto view_model_weapon = static_cast<C_BaseCombatWeapon*>(Interfaces::EntityList->GetClientEntityFromHandle(view_model_weapon_handle));
	if (!view_model_weapon)
		return;
	if (k_weapon_info.count(view_model_weapon->m_Item().m_iItemDefinitionIndex()))
	{
		const auto override_model = k_weapon_info.at(view_model_weapon->m_Item().m_iItemDefinitionIndex()).model;
		auto override_model_index = Interfaces::ModelInfo->GetModelIndex(override_model);
		view_model->m_nModelIndex() = override_model_index;
		auto world_model_handle = view_model_weapon->m_hWeaponWorldModel();
		if (!world_model_handle.IsValid())
			return;
		const auto world_model = static_cast<C_BaseWeaponWorldModel*>(Interfaces::EntityList->GetClientEntityFromHandle(world_model_handle));
		if (!world_model)
			return;
		world_model->m_nModelIndex() = override_model_index + 1;
	}
}

std::vector<paint_kit> k_skins;
std::vector<paint_kit> k_gloves;
class CCStrike15ItemSchema;
class CCStrike15ItemSystem;
template <typename Key, typename Value>
struct Node_t
{
	int previous_id; //0x0000
	int next_id; //0x0004
	void* _unknown_ptr; //0x0008
	int _unknown; //0x000C
	Key key; //0x0010
	Value value; //0x0014
};
template <typename Key, typename Value>
struct Head_t
{
	Node_t<Key, Value>* memory; //0x0000
	int allocation_count; //0x0004
	int grow_size; //0x0008
	int start_element; //0x000C
	int next_available; //0x0010
	int _unknown; //0x0014
	int last_element; //0x0018
};

struct String_t
{
	char* buffer; //0x0000
	int capacity; //0x0004
	int grow_size; //0x0008
	int length; //0x000C
};
struct CPaintKit
{
	int id; //0x0000
	String_t name; //0x0004
	String_t description; //0x0014
	String_t item_name; //0x0024
	String_t material_name; //0x0034
	String_t image_inventory; //0x0044
	char pad_0x0054[0x8C]; //0x0054
};
auto get_export(const char* module_name, const char* export_name) -> void*
{
	HMODULE mod;
	while (!((mod = GetModuleHandleA(module_name))))
		Sleep(100);
	return reinterpret_cast<void*>(GetProcAddress(mod, export_name));
}

auto CSkinChanger::Initialize() -> void
{
	const auto V_UCS2ToUTF8 = static_cast<int(*)(const wchar_t* ucs2, char* utf8, int len)>(get_export("vstdlib.dll", "V_UCS2ToUTF8"));
	const auto sig_address = Utils::PatternScan(GetModuleHandleW(L"client_panorama.dll"), "E8 ? ? ? ? FF 76 0C 8D 48 04 E8");
	const auto item_system_offset = *reinterpret_cast<std::int32_t*>(sig_address + 1);
	const auto item_system_fn = reinterpret_cast<CCStrike15ItemSystem* (*)()>(sig_address + 5 + item_system_offset);
	const auto item_schema = reinterpret_cast<CCStrike15ItemSchema*>(std::uintptr_t(item_system_fn()) + sizeof(void*));
	{
		const auto get_paint_kit_definition_offset = *reinterpret_cast<std::int32_t*>(sig_address + 11 + 1);
		const auto get_paint_kit_definition_fn = reinterpret_cast<CPaintKit*(__thiscall*)(CCStrike15ItemSchema*, int)>(sig_address + 11 + 5 + get_paint_kit_definition_offset);
		const auto start_element_offset = *reinterpret_cast<std::intptr_t*>(std::uintptr_t(get_paint_kit_definition_fn) + 8 + 2);
		const auto head_offset = start_element_offset - 12;
		const auto map_head = reinterpret_cast<Head_t<int, CPaintKit*>*>(std::uintptr_t(item_schema) + head_offset);
		Interfaces::Localize->AddFile("resource/csgo_english.txt");
		for (auto i = 0; i <= map_head->last_element; ++i)
		{
			const auto paint_kit = map_head->memory[i].value;
			if (paint_kit->id == 9001)
				continue;
			const auto wide_name = Interfaces::Localize->Find(paint_kit->item_name.buffer + 1);
			char name[256];
			V_UCS2ToUTF8(wide_name, name, sizeof(name));
			if (paint_kit->id < 10000)
				k_skins.push_back({ paint_kit->id, name });
			else
				k_gloves.push_back({ paint_kit->id, name });
		}
		std::sort(k_skins.begin(), k_skins.end());
		std::sort(k_gloves.begin(), k_gloves.end());
	}
}